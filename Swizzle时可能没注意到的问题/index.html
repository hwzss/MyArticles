<!DOCTYPE html><html>

<head>
<meta charset="utf-8">
<title>index</title>
<style>
@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

body {
  background-color: white;
}

.markdown-body {
  min-width: 200px;
  max-width: 760px;
  margin: 0 auto;
  padding: 20px;

  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;;word-wrap: break-word; word-break: break-all;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body strong {
  font-weight: bold;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px/1.4 Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code {
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .anchor {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

.markdown-body .highlight {
  background: #fff;
}

.markdown-body .highlight .mf,
.markdown-body .highlight .mh,
.markdown-body .highlight .mi,
.markdown-body .highlight .mo,
.markdown-body .highlight .il,
.markdown-body .highlight .m {
  color: #945277;
}

.markdown-body .highlight .s,
.markdown-body .highlight .sb,
.markdown-body .highlight .sc,
.markdown-body .highlight .sd,
.markdown-body .highlight .s2,
.markdown-body .highlight .se,
.markdown-body .highlight .sh,
.markdown-body .highlight .si,
.markdown-body .highlight .sx,
.markdown-body .highlight .s1 {
  color: #df5000;
}

.markdown-body .highlight .kc,
.markdown-body .highlight .kd,
.markdown-body .highlight .kn,
.markdown-body .highlight .kp,
.markdown-body .highlight .kr,
.markdown-body .highlight .kt,
.markdown-body .highlight .k,
.markdown-body .highlight .o {
  font-weight: bold;
}

.markdown-body .highlight .kt {
  color: #458;
}

.markdown-body .highlight .c,
.markdown-body .highlight .cm,
.markdown-body .highlight .c1 {
  color: #998;
  font-style: italic;
}

.markdown-body .highlight .cp,
.markdown-body .highlight .cs {
  color: #999;
  font-weight: bold;
}

.markdown-body .highlight .cs {
  font-style: italic;
}

.markdown-body .highlight .n {
  color: #333;
}

.markdown-body .highlight .na,
.markdown-body .highlight .nv,
.markdown-body .highlight .vc,
.markdown-body .highlight .vg,
.markdown-body .highlight .vi {
  color: #008080;
}

.markdown-body .highlight .nb {
  color: #0086B3;
}

.markdown-body .highlight .nc {
  color: #458;
  font-weight: bold;
}

.markdown-body .highlight .no {
  color: #094e99;
}

.markdown-body .highlight .ni {
  color: #800080;
}

.markdown-body .highlight .ne {
  color: #990000;
  font-weight: bold;
}

.markdown-body .highlight .nf {
  color: #945277;
  font-weight: bold;
}

.markdown-body .highlight .nn {
  color: #555;
}

.markdown-body .highlight .nt {
  color: #000080;
}

.markdown-body .highlight .err {
  color: #a61717;
  background-color: #e3d2d2;
}

.markdown-body .highlight .gd {
  color: #000;
  background-color: #fdd;
}

.markdown-body .highlight .gd .x {
  color: #000;
  background-color: #faa;
}

.markdown-body .highlight .ge {
  font-style: italic;
}

.markdown-body .highlight .gr {
  color: #aa0000;
}

.markdown-body .highlight .gh {
  color: #999;
}

.markdown-body .highlight .gi {
  color: #000;
  background-color: #dfd;
}

.markdown-body .highlight .gi .x {
  color: #000;
  background-color: #afa;
}

.markdown-body .highlight .go {
  color: #888;
}

.markdown-body .highlight .gp {
  color: #555;
}

.markdown-body .highlight .gs {
  font-weight: bold;
}

.markdown-body .highlight .gu {
  color: #800080;
  font-weight: bold;
}

.markdown-body .highlight .gt {
  color: #aa0000;
}

.markdown-body .highlight .ow {
  font-weight: bold;
}

.markdown-body .highlight .w {
  color: #bbb;
}

.markdown-body .highlight .sr {
  color: #017936;
}

.markdown-body .highlight .ss {
  color: #8b467f;
}

.markdown-body .highlight .bp {
  color: #999;
}

.markdown-body .highlight .gc {
  color: #999;
  background-color: #EAF2F5;
}

.markdown-body .octicon {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .octicon-link:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  float: left;
  margin: 0.3em 0 0.25em -1.6em;
  vertical-align: middle;
}

/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
  -webkit-text-size-adjust: none;
}

.hljs-comment,
.diff .hljs-header {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.css .rule .hljs-keyword,
.hljs-winutils,
.nginx .hljs-title,
.hljs-subst,
.hljs-request,
.hljs-status {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-hexcolor,
.ruby .hljs-constant {
  color: #008080;
}

.hljs-string,
.hljs-tag .hljs-value,
.hljs-doctag,
.tex .hljs-formula {
  color: #d14;
}

.hljs-title,
.hljs-id,
.scss .hljs-preprocessor {
  color: #900;
  font-weight: bold;
}

.hljs-list .hljs-keyword,
.hljs-subst {
  font-weight: normal;
}

.hljs-class .hljs-title,
.hljs-type,
.vhdl .hljs-literal,
.tex .hljs-command {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-tag .hljs-title,
.hljs-rule .hljs-property,
.django .hljs-tag .hljs-keyword {
  color: #000080;
  font-weight: normal;
}

.hljs-attribute,
.hljs-variable,
.lisp .hljs-body,
.hljs-name {
  color: #008080;
}

.hljs-regexp {
  color: #009926;
}

.hljs-symbol,
.ruby .hljs-symbol .hljs-string,
.lisp .hljs-keyword,
.clojure .hljs-keyword,
.scheme .hljs-keyword,
.tex .hljs-special,
.hljs-prompt {
  color: #990073;
}

.hljs-built_in {
  color: #0086b3;
}

.hljs-preprocessor,
.hljs-pragma,
.hljs-pi,
.hljs-doctype,
.hljs-shebang,
.hljs-cdata {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.diff .hljs-change {
  background: #0086b3;
}

.hljs-chunk {
  color: #aaa;
}


</style>

<style> @media print{ .hljs{overflow: visible; word-wrap: break-word !important;} }</style></head><body><div class="markdown-body">
<blockquote>
<p>å¬è¯´æœ€è¿‘å¥³ç”Ÿéƒ½å–œæ¬¢æ‰¾ç¨‹åºå‘˜åšç”·æœ‹å‹ï¼Œè¯´æ˜¯æˆ‘ä»¬ç¨‹åºå‘˜ä¸€èˆ¬éƒ½ç¨³é‡ï¼Œä¸“ä¸€ï¼Œå·¥èµ„é«˜ï¼Œå¦‚æœä½ é•¿å¾—è¿˜æŒºå¸…é‚£ä¼°è®¡å°±æŠ¢æ‰‹è´§äº†ã€‚æœ¬æ¥æˆ‘è®¡åˆ’ä»Šå¤©å‡ºå»è·‘æ­¥çš„ï¼Œä½†æ˜¯ä¸‹é›¨æ²¡å»æˆï¼Œå› ä¸ºå¦‚æœæˆ‘å†å‡æ‰15æ–¤ä½“é‡ï¼Œé‚£æˆ‘å°±å…·å¤‡ä¸Šé¢é•¿å¾—å¸…ä¼˜ç§€æ¡ä»¶äº†ï¼Œä¼°è®¡æˆ‘ç¦»æˆ‘å¥³ç¥å°±è¶Šæ¥è¶Šè¿‘äº†ã€‚</p>
</blockquote>

<p><img src="http://upload-images.jianshu.io/upload_images/1488825-ab76c8dd960781f6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="éœ¸æ°”å¥³ç¥.jpg"/></p>

<p>ä¸Šé¢æˆ‘å‡æ‰15æ–¤å°±èƒ½å¸…äº†çš„è¯ï¼Œå¦‚æœä½ ä¿¡äº†çš„è¯ï¼Œæˆ‘å°±æ„Ÿè°¢ä¸‹ä½ å¯¹æˆ‘çš„è‚¯å®šï¼Œå› ä¸ºæˆ‘è‡ªå·±éƒ½ä¸ä¿¡ï¼Œæˆ‘æ€ä¹ˆå¯èƒ½é‚£ä¹ˆå¸…å‘¢ã€‚ä½†æ˜¯æœ‰å¥³ç”Ÿè¯´å–œæ¬¢æ‰¾æˆ‘ä»¬ç¨‹åºå‘˜å´ä¸æ˜¯è°£è¨€ï¼Œå› ä¸ºæˆ‘å¬æˆ‘å¥³å‹è¯´çš„ï¼Œæˆ‘å¥³å‹å¬æœ‹å‹è¯´çš„ã€‚æ˜¯ä¸æ˜¯æœ‰ç‚¹å°æ¿€åŠ¨!è¿˜æ²¡æœ‰å¥³å‹çš„ä¼™ä¼´åŠ¨èµ·æ¥ï¼ŒåŠ æŠŠåŠ²ï¼Œä»£ç æ•²èµ·æ¥ï¼Œç¨‹åºè·‘èµ·æ¥ã€‚</p>

<p><img src="http://upload-images.jianshu.io/upload_images/1488825-b5c6e4a140bbbf48.gif?imageMogr2/auto-orient/strip" alt="æ¿€åŠ¨çš„æˆ‘å’Œæˆ‘çš„å°ä¼™ä¼´.gif"/></p>

<h2 id="toc_0">æ­£é¢˜:</h2>

<p>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šä½¿ç”¨runtimeè¿›è¡Œswizzleæ–¹æ³•(å¦‚æœä¸çŸ¥é“swzzleè¯·çœ‹è¿™é‡Œ)ã€‚å¤šæ•°æ—¶å€™æˆ‘ä»¬ä¼šè¿™æ ·å†™ï¼Œswizzleç¬¬ä¸€ç§å†™æ³•:<br/>
<code><br/>
    Method originalMethod = class_getInstanceMethod(aClass, originalSel);<br/>
    Method swizzleMethod = class_getInstanceMethod(aClass, swizzleSel);<br/>
    method_exchangeImplementations(originalMethod, swizzleMethod);<br/>
</code><br/>
æˆ–è€…æ˜¯ä¸‹é¢è¿™ç§æ–¹å¼ï¼Œswizzleç¬¬äºŒç§å†™æ³•:<br/>
<code><br/>
   Method originalMethod = class_getInstanceMethod(aClass, originalSel);<br/>
    Method swizzleMethod = class_getInstanceMethod(aClass, swizzleSel);<br/>
    BOOL didAddMethod = class_addMethod(aClass, originalSel, method_getImplementation(swizzleMethod), method_getTypeEncoding(swizzleMethod));<br/>
    if (didAddMethod) {<br/>
        class_replaceMethod(aClass, swizzleSel, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));<br/>
    }else{<br/>
        method_exchangeImplementations(originalMethod, swizzleMethod);<br/>
    }<br/>
</code><br/>
ç½‘ä¸Šèµ„æ–™æŸ¥æ‰¾æ—¶å‘ç°ç¬¬äºŒç§æ–¹å¼ç½‘ä¸Šæœ‰ç§°å‘¼ä¸ºæœ€ä½³çš„swizzleæ–¹å¼ï¼Œå…·ä½“å¯è§èµ„æ–™(<a href="http://blog.leichunfeng.com/blog/2015/06/14/objective-c-method-swizzling-best-practice/">æœ€ä½³å®è·µç›¸å…³èµ„æ–™</a>).<br/>
    ä¸Šé¢ä¸¤ç§æ–¹å¼å…·ä½“å“ªç§å¥½å‘¢ï¼Œæˆ‘ä¸‹ä¸å®šè®ºï¼Œå› ä¸ºåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå‘ç°ä»–ä»¬å„è‡ªéƒ½æœ‰è‡ªå·±çš„é—®é¢˜(å°†åœ¨ä¸‹é¢æŒ‡å‡º)ï¼Œå…·ä½“è¿˜å¾—çœ‹è‡ªå·±éœ€æ±‚è§‰å¾—å“ªç§å¥½ï¼Œä¸‹é¢å°†è§£é‡Šè¿™ä¸¤ç§æ–¹å¼çš„ä¸€äº›é—®é¢˜ï¼Œæœ¬æ–‡ä»£ç è§<a href="https://github.com/hwzss/Runtime_Swizzle">ä»£ç åœ°å€</a>ã€‚<br/>
    å…ˆè¯´è¯´ç¬¬ä¸€ç§æƒ…å†µ(å½“swizzleä¸€ä¸ªè‡ªèº«æ²¡æœ‰å®ç°è€Œçˆ¶ç±»å®ç°äº†çš„æ–¹æ³•æ—¶)ä¸‹ä¸¤ç§æ–¹å¼æ¯”è¾ƒï¼š<br/>
    é¦–å…ˆæˆ‘ä»¬å»ºç«‹ä¸¤ä¸ªç±»ï¼šfatherç±»ä»¥åŠç»§æ‰¿fahterç±»çš„sonç±»</p>

<pre><code>@interface Father : NSObject
@end
@implementation Father
-(void)work{
    NSLog(@&quot;çˆ¶äº²å¾—èµšé’±å…»å®¶ğŸ˜¯&quot;);
}
@end

@interface Son : Father

@end

@implementation Son

@end
</code></pre>

<p>ç„¶åæ–°å»ºSonåˆ†ç±»ï¼š</p>

<pre><code>@implementation Son (Swizzle)
BOOL simple_Swizzle(Class aClass, SEL originalSel,SEL swizzleSel){
    
    Method originalMethod = class_getInstanceMethod(aClass, originalSel);
    Method swizzleMethod = class_getInstanceMethod(aClass, swizzleSel);
    method_exchangeImplementations(originalMethod, swizzleMethod);
    
    return YES;
}
BOOL best_Swizzle(Class aClass, SEL originalSel,SEL swizzleSel){
    
    Method originalMethod = class_getInstanceMethod(aClass, originalSel);
    Method swizzleMethod = class_getInstanceMethod(aClass, swizzleSel);
    BOOL didAddMethod = class_addMethod(aClass, originalSel, method_getImplementation(swizzleMethod), method_getTypeEncoding(swizzleMethod));
    if (didAddMethod) {
        class_replaceMethod(aClass, swizzleSel, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));
    }else{
        method_exchangeImplementations(originalMethod, swizzleMethod);
    }
    
    return YES;
}
@end
</code></pre>

<p>è¿™é‡Œæˆ‘ä»¬å°†ç¬¬ä¸€ç§æ–¹å¼ç§°ä¸ºsimple_Swizzleï¼Œç¬¬äºŒç§æ–¹å¼ä¸ºbest_Swizzleã€‚<br/>
æƒ…å†µä¸€ï¼šå­ç±»é‡Œswizzleä¸€ä¸ªè‡ªèº«æ²¡æœ‰å®ç°è€Œçˆ¶ç±»å®ç°äº†çš„æ–¹æ³•ã€‚<br/>
æˆ‘ä»¬åœ¨åˆ†ç±»ä¸­æ·»åŠ ä¸€ä¸ªè‡ªå·±çš„workæ–¹æ³•å‡†å¤‡swizzle</p>

<pre><code>@implementation Son (Swizzle)
-(void)son_work{
    [self son_work];
    NSLog(@&quot;sonåˆ†ç±»é‡Œçš„son_work&quot;);
}

@end
</code></pre>

<p>ç„¶åå†loadæ–¹æ³•ä¸­è¿›è¡Œæ›¿æ¢,æˆ‘ä»¬å…ˆä½¿ç”¨simple_Swizzleã€‚<br/>
```<br/>
+(void)load{</p>

<pre><code>static dispatch_once_t onceToken;
dispatch_once(&amp;onceToken, ^{
         simple_Swizzle([self class], NSSelectorFromString(@&quot;work&quot;), @selector(son_work));
};
</code></pre>

<p>}<br/>
```<br/>
å—¯ï¼Œå¥½äº†ï¼Œè¿è¡Œç¨‹åºå,è°ƒç”¨å¦‚ä¸‹ä»£ç </p>

<pre><code>    Son *son = [Son new];
    [son work];
    
</code></pre>

<p>æ§åˆ¶å°æ‰“å°å¦‚ä¸‹:</p>

<pre><code>2017-06-18 16:11:20.443302 runtimeå­¦ä¹ [45823:16276777] çˆ¶äº²å¾—èµšé’±å…»å®¶ğŸ˜¯
2017-06-18 16:11:20.448797 runtimeå­¦ä¹ [45823:16276777] sonåˆ†ç±»é‡Œçš„son_work
</code></pre>

<p>ä¹Ÿè®¸è¿™é‡Œä½ å·²ç»å‘ç°é—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰æˆ‘ä»¬ç»§ç»­ï¼Œå†è°ƒç”¨ä¸‹é¢ä»£ç ï¼š</p>

<pre><code>    Father *aFather = [Father new];
    [aFather work];
</code></pre>

<p>ç¨‹åºå´©æºƒäº†ï¼Œæ§åˆ¶å°è¾“å‡º:</p>

<pre><code>[Father son_work]: unrecognized selector sent to instance 0x1700162f0&#39;
</code></pre>

<p>what?(é»‘äººé—®å·ï¼Ÿ)ï¼Œä»€ä¹ˆæƒ…å†µï¼ï¼[aFather work]é‡Œè°ƒç”¨äº†son_workã€‚<br/>
åŸæ¥ï¼Œåˆšåˆšçš„simple_Swizzleå°†å­ç±»çš„son_workçš„IMPæ›¿æ¢ç»™ç±»çˆ¶ç±»çš„workæ–¹æ³•ï¼Œå¯¼è‡´çˆ¶ç±»æ–¹æ³•worké‡Œæœ‰[self son_work];è€Œçˆ¶ç±»å¹¶æ²¡æœ‰è¿™æ ·çš„æ–¹æ³•æ‰€ä»¥overäº†ã€‚<br/>
å…·ä½“ä¸ºä»€ä¹ˆä¼šæ›¿æ¢æ‰çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ˜¯å› ä¸ºclass_getInstanceMethodæ–¹æ³•åœ¨æ‰¾æ–¹æ³•æ—¶ä¼šä»è‡ªå·±ç±»åˆ°çˆ¶ç±»åˆ°æ ¹ç±»ä¸€ç›´æŸ¥æ‰¾ä¸‹å»ï¼Œä¸€ç›´åˆ°æ ¹ç±»ä¸ºæ­¢ï¼Œæ‰€ä»¥ä¸Šé¢åœ¨æŸ¥æ‰¾workæ–¹æ³•æ—¶å°±æ‰¾åˆ°fatherç±»é‡Œäº†ã€‚è¿™å°±æ˜¯simple_Swizzleçš„ä¸€ä¸ªé—®é¢˜ã€‚<br/>
ç°åœ¨æˆ‘ä»¬ä½¿ç”¨simple_Swizzleæ¥è¿›è¡Œæ›¿æ¢ã€‚<br/>
<code><br/>
  best_Swizzle([self class], NSSelectorFromString(@&quot;work&quot;), @selector(son_work));<br/>
</code><br/>
ç„¶å</p>

<pre><code>    Son *son = [Son new];
    [son work];
    
</code></pre>

<p>æ§åˆ¶å°æ‰“å°å¦‚ä¸‹:<br/>
<code><br/>
2017-06-18 16:27:43.491944 runtimeå­¦ä¹ [45833:16282207] çˆ¶äº²å¾—èµšé’±å…»å®¶ğŸ˜¯<br/>
2017-06-18 16:27:43.493439 runtimeå­¦ä¹ [45833:16282207] sonåˆ†ç±»é‡Œçš„son_work<br/>
</code><br/>
æ²¡é—®é¢˜ï¼Œæ¥ç€:</p>

<pre><code>    Father *aFather = [Father new];
    [aFather work];
</code></pre>

<p>æ§åˆ¶å°æ‰“å°å¦‚ä¸‹:</p>

<pre><code>2017-06-18 16:30:39.622756 runtimeå­¦ä¹ [45836:16282868] çˆ¶äº²å¾—èµšé’±å…»å®¶ğŸ˜¯
</code></pre>

<p>å¯ä»¥çœ‹åˆ°è¿™æ—¶çˆ¶ç±»æ²¡æœ‰è°ƒç”¨son_workã€‚å› ä¸ºbest_Swizzleåœ¨è¿›è¡Œswizzleæ—¶ä¼šå…ˆå°è¯•ç»™è‡ªå·±æ·»åŠ workæ–¹æ³•æ–¹æ³•å®ç°</p>

<pre><code>    BOOL didAddMethod = class_addMethod(aClass, originalSel, method_getImplementation(swizzleMethod), method_getTypeEncoding(swizzleMethod));
</code></pre>

<p>å¦‚æœsonç±»æ²¡æœ‰å®ç°workæ–¹å¼æ—¶ï¼Œclass_addMethodå°±ä¼šæˆåŠŸæ·»åŠ ä¸€ä¸ªæ–°çš„å±äºsonè‡ªå·±çš„workæ–¹æ³•ï¼ŒåŒæ—¶å°†æœ¬æ¥è¦swizzleçš„æ–¹æ³•çš„å®ç°ç›´æ¥å¤åˆ¶è¿›worké‡Œ,ç„¶åå†å°†çˆ¶ç±»çš„IMPç»™swizzleã€‚å¦‚æœsonå·²ç»å·²ç»å®ç°äº†åˆ™ä¼šæ·»åŠ å¤±è´¥ï¼Œç›´æ¥è¿›è¡Œswizzleå…·ä½“å¯è§èµ„æ–™(),é€»è¾‘ä¸ºä¸‹é¢ä»£ç ã€‚</p>

<pre><code>    if (didAddMethod) {
        class_replaceMethod(aClass, swizzleSel, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));
    }else{
        method_exchangeImplementations(originalMethod, swizzleMethod);
    }
</code></pre>

<p>è¿™æ—¶simple_Swizzleä¼šæœ‰é—®é¢˜ï¼Œbest_Swizzleæ²¡æœ‰é—®é¢˜ã€‚<br/>
ä¸‹é¢æˆ‘ä»¬æ¥è¯´å¦å¤–ä¸€ç§æƒ…å†µ(swizzleä¸€ä¸ªå­ç±»åˆ°çˆ¶ç±»åˆ°æ ¹ç±»éƒ½æ²¡æœ‰å®ç°è¿‡çš„æ–¹æ³•):<br/>
æˆ‘ä»¬ç»™sonåˆ†ç±»æ·»åŠ ä¸€ä¸ªson_Cryæ–¹æ³•:</p>

<pre><code>-(void)son_Cry{
    NSLog(@&quot;æˆ‘æ˜¯sonåˆ†ç±»,WZ_Cryæ–¹æ³•&quot;);
    [self son_Cry];
}
</code></pre>

<p>åŒæ—¶å£°æ˜ä¸€ä¸ªæ²¡æœ‰å®ç°çš„æ–¹æ³•cry;</p>

<pre><code>@interface Son : Father

-(void)cry;
@end
</code></pre>

<p>ç„¶åå…ˆç”¨simple_Swizzleæ›¿æ¢:<br/>
<code><br/>
simple_Swizzle([self class], @selector(cry), @selector(son_Cry));<br/>
</code><br/>
æ¥ç€è°ƒç”¨cryæ–¹æ³•:</p>

<pre><code>Son *son = [Son new];
[son cry];
</code></pre>

<p>æ§åˆ¶å°æ‰“å°:<br/>
<code><br/>
[Son cry]: unrecognized selector sent to instance 0x170018900&#39;<br/>
</code><br/>
å—¯ï¼Œè°ƒç”¨å¤±è´¥ï¼Œæ­£å¸¸å› ä¸ºéƒ½æ²¡æœ‰å®ç°å¦‚ä½•swizzleã€‚ç„¶åç”¨æˆ‘ä»¬ç”¨å›è‡ªåŠ¨æ·»åŠ ä¸€ä¸ªå®ç°çš„best_Swizzleæ–¹å¼ï¼Œæ§åˆ¶å°æ‰“å°å¦‚ä¸‹:</p>

<pre><code>2017-06-18 16:59:33.815223 runtimeå­¦ä¹ [45845:16289311] æˆ‘æ˜¯sonåˆ†ç±»,WZ_Cryæ–¹æ³•
2017-06-18 16:59:33.815243 runtimeå­¦ä¹ [45845:16289311] æˆ‘æ˜¯sonåˆ†ç±»,WZ_Cryæ–¹æ³•
2017-06-18 16:59:33.815319 runtimeå­¦ä¹ [45845:16289311] æˆ‘æ˜¯sonåˆ†ç±»,WZ_Cryæ–¹æ³•
...æ­¤å¤„çœç•¥æ— æ•°æ¬¡ä¸Šé¢çš„logæ‰“å°
</code></pre>

<p>å†ä¸€æ¬¡ï¼ˆwhatï¼Ÿé»‘äººé—®å·â“ï¼‰,ç¨‹åºæ­»å¾ªç¯äº†...<br/>
é—®é¢˜å‡ºåœ¨è¿™ä¸¤è¡Œä»£ç :</p>

<pre><code>//å› ä¸ºcryæ–¹æ³•æ²¡æœ‰å®ç°è¿‡ï¼Œclass_getInstanceMethodæ— æ³•æ‰¾åˆ°è¯¥æ–¹æ³•ï¼Œæ‰€ä»¥originalMethodä¸ºnilã€‚
 Method originalMethod = class_getInstanceMethod(aClass, originalSel);
 
 //å½“originalMethodä¸ºnilæ—¶è¿™é‡Œclass_replaceMethodå°†ä¸åšæ›¿æ¢ï¼Œæ‰€ä»¥swizzleSelæ–¹æ³•é‡Œçš„å®ç°è¿˜æ˜¯è‡ªå·±åŸæ¥çš„å®ç°ã€‚
    class_replaceMethod(aClass, swizzleSel, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod));
</code></pre>

<p>æ‰€ä»¥æœ€ç»ˆå¯¼è‡´åœ¨ä¸‹é¢æ–¹æ³•é‡Œé‡å¤è°ƒç”¨è‡ªå·±ã€‚<br/>
<code><br/>
-(void)son_Cry{<br/>
    NSLog(@&quot;æˆ‘æ˜¯sonåˆ†ç±»,WZ_Cryæ–¹æ³•&quot;);<br/>
    [self son_Cry];<br/>
}<br/>
</code><br/>
è¿™é‡Œå°±æ˜¯best_Swizzleçš„ä¸€ä¸ªé—®é¢˜ï¼Œå½“ç„¶è¿™ä¸ªé—®é¢˜å¾ˆå°‘å‡ºç°ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬swizzleæ—¶éƒ½æ˜¯swizzleä¸€ä¸ªå·²çŸ¥çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æœ‰æ–¹æ³•å®ç°ã€‚<br/>
ä½†æ˜¯ä¹Ÿä¸æ˜¯ä¸ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œè¿™é‡Œæˆ‘åœ¨ä¸€æ¬¡è¿›è¡Œswizzleä¸€ä¸ªç±»å®ç°çš„åè®®æ–¹æ³•æ—¶å‡ºç°äº†ï¼Œæ¯”å¦‚AppDelegateç±»é‡Œçš„<UIApplicationDelegate>åè®®ï¼Œæˆ‘æƒ³åœ¨æŸä¸ªä»£ç†å›è°ƒé‡Œæ’å…¥ä¸€æ®µè‡ªå·±çš„é€»è¾‘ï¼Œåˆä¸æƒ³å¯¹å·²æœ‰çš„é¡¹ç›®é‡Œç›´æ¥åŠ å…¥ï¼Œæˆ‘æƒ³å®ƒæ—¶å¯ä»¥ç›´æ¥æ‹¿åˆ°å¦å¤–ä¸€ä¸ªé¡¹ç›®ä¹Ÿå¯ä»¥ç›´æ¥ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘å»ºäº†ä¸€ä¸ªåˆ†ç±»swizzleåè®®æ–¹æ³•ï¼Œå¦‚æœæˆ‘ç›´æ¥swizzleä¸€ä¸ªæ²¡æœ‰å®ç°è¿‡çš„åè®®æ–¹æ³•ï¼Œå°±ä¼šå‡ºç°æ­»å¾ªç¯ã€‚<br/>
å…·ä½“å¯è§<a href="https://github.com/hwzss/AppPushDemo">demo</a><br/>
é‡Œçš„è§£å†³æ–¹æ³•æ˜¯åœ¨originalMethodä¸ºnilæ—¶ï¼Œæ›¿æ¢åå°†swizzleSelå¤åˆ¶ä¸€ä¸ªä¸åšä»»ä½•äº‹çš„ç©ºå®ç°,ä»£ç å¦‚ä¸‹:</p>

<pre><code>    if (!originalMethod)
    {
        class_addMethod(aClass, originalSel, method_getImplementation(swizzleMethod), method_getTypeEncoding(swizzleMethod));
        method_setImplementation(swizzleMethod, imp_implementationWithBlock(^(id self, SEL _cmd){ }));
    }
</code></pre>

<h1 id="toc_1">å–å£æ°´ æ€»ç»“:</h1>

<p>å¯¹äºsimple_Swizzleå’Œbest_Swizzleçš„é€‰æ‹©æ²¡æœ‰å…·ä½“è¦æ±‚ï¼Œå¤§å®¶ç»“åˆè‡ªå·±çš„åœºæ™¯ä½¿ç”¨ï¼Œæˆ‘ä¸€èˆ¬ç›´æ¥ç”¨simple_Swizzleï¼Œå› ä¸ºæˆ‘çŸ¥é“è¿™ä¸ªæ–¹æ³•ä¸€å®šæœ‰ï¼Œæ‰€ä»¥èƒ½ç®€å•å°±ç²—æš´å§ã€‚</p>

<p><img src="http://upload-images.jianshu.io/upload_images/1488825-098fff9e657cca44.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¦‚æœç˜¦ä¸‹æ¥çš„æˆ‘.jpeg"/></p>

<p>å¯¹äºruntimeï¼Œå¤§å®¶ä½¿ç”¨èµ·æ¥è¿˜æ˜¯çš„è°¨æ…äº›ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå…¥å‘ã€‚</p>

<p>å¦‚æœå–œæ¬¢ç‚¹ä¸ªå–œæ¬¢å§ğŸ˜ï¼Œå› ä¸ºä½ çš„å–œæ¬¢å°±æ˜¯ä½ çš„å–œæ¬¢ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚</p>

<h2 id="toc_2">ä¸€äº›èµ„æ–™</h2>

<p><a href="http://southpeak.github.io/categories/objectivec/">è¿™é‡Œæœ‰6ç¯‡æ–‡ç« ï¼Œç‚¹å‡»å§ï¼ŒGo!Go!GO!</a></p>

<br><br><br><br>

</div></body>

</html>
